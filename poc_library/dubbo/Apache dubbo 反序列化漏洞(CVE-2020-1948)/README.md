### 一 漏洞描述
Apache dubbo 反序列化漏洞(CVE-2020-1948)

Apache Dubbo是一种基于Java的高性能RPC框架。该项目于2011年开源，并于2018年2月进入Apache孵化器，目前已经成为了广大开发者最常使用的微服务框架之一。它提供了三大核心能力：面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。

Dubbo 2.7.6或更低版本采用的默认反序列化方式存在代码执行漏洞，当Dubbo服务端暴露时(默认端口：20880)，攻击者可以发送未经验证的服务名或方法名的RPC请求，同时配合附加恶意的参数负载。当恶意参数被反序列化时，它将执行恶意代码。

### 二 漏洞利用
https://github.com/threedr3am/dubbo-exp

```
java -jar dubbo-exp.jar --target {ip}:{port} --fastcheck {str(dnslog)}
```

### 三 漏洞修复
1 升级至最新版本

2 Dubbo 协议默认采用 Hessian 作为序列化反序列化方式，该反序列化方式存在反序列化漏洞。在不影响业务的情况下，建议更换协议以及反序列化方式。  
具体更换方法可参考：
https://dubbo.apache.org/zh/docs/references/xml/dubbo-protocol/  
https://blog.csdn.net/xia296/article/details/107072502/

> 参考链接
> https://github.com/threedr3am/dubbo-exp
> https://www.cnblogs.com/JingQ/p/13329083.html
> https://paper.seebug.org/1264/
