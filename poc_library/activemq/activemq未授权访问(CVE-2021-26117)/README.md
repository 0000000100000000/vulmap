### 一 漏洞描述
ActiveMQ是目前较为流行的一款开源消息服务器。默认情况下，ActiveMQ服务是没有配置安全参数，恶意人员利用默认配置弱点实现远程命令执行攻击，获取服务器权限，从而导致数据泄露事件发生。

### 二 漏洞利用
通过未授权或者弱口令admin/admin登录Apache ActiveMQ

获取物理路径: ActiveMQ默认开启PUT请求，当开启PUT时，访问不存在的目录，Response会返回相应的物理路径信息。  
如果存在未授权或默认口令，以下页面同样可以获取到物理路径

写文件:   
在 ActiveMQ 5.12.x~5.13.x 版本中，默认关闭 fileserver 目录，可以在conf/jetty.xml中开启；
在5.14.0版本以后，彻底删除了fileserver应用
若服务器存在 fileserver 目录，则可以通过 PUT 请求写入文件
返回204说明上传成功，返回404或者500说明上传失败  

转移到解析目录:   
但 fileserver 下的文件默认不解析，通过MOVE方法请求移动文件  
把文件移动到可以被解析的admin/下或者api/下

### 三 漏洞修复
升级


> 参考链接  
> https://developer.aliyun.com/ask/221398  
> https://www.secrss.com/articles/29016  
> https://baiker.top/209eabddaf61
